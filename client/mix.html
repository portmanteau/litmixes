<template name="mix">
  <div class="backdrop" style="background-image: url({{backgroundUrl}})">
    {{#unless hasBackground }}
      Drop<br/>Files
    {{/unless}}
    {{#if mix.youtubeId }}
      <div class="backgroundVideo">
        {{> YTPlayer name="yes" }}
      </div>
    {{/if}}
  </div>
  <div class="litmix litmix--active" data-js="drop">
    <header class="main-header">
      <div class="main-header__url">
        <a href="http://litmix.es" style="color: aqua">litmix.es/</a>
        <a href="http://litmix.es/{{mix.slug}}" style="color: cornflowerblue">{{mix.slug}}</a>
      </div>
      <div class="container">
        <button id="play-mix" onclick="playlist.load(0)">Play Mix</button>
        <a class="fa fa-question"></a>
      </div>
    </header>
    <!-- {{>playlist}} -->
    <div class="songs">
      {{>songHeader}}

      <div class="song-items">
        {{#each songs}}
          {{>song}}
        {{/each}}
      </div>

      <a class="add-song" data-js="drop" data-destination="bottom">
         <i class="fa fa-plus"></i> Add Songs from YouTube
      </a>
      <div class="mix__add-song-prompt">
        <input type="text" placeholder="Song name" value="{{search}}">
        <div class="mix__results">
          {{#each searchResults}}
            <div class="youtube-item" data-id="{{ id.videoId }}">
              <div class="youtube-item__thumbnail">
                <img src="{{ snippet.thumbnails.default.url }}"/>
              </div>
              <div class="youtube-item__description">
                <div class="youtube-item__title">
                  {{ snippet.title }}
                </div>
              </div>
              <div class="youtube-item__actions">
                <a class="youtube-item__actions__background">
                  Background <i class="fa fa-picture-o"></i>
                </a>
                <a class="youtube-item__actions__add">
                  Add <i class="fa fa-plus"></i>
                </a>
              </div>
            </div>
          {{/each}}
        </div>
      </div>
    </div>

    {{> progressBar}}
    {{>controlBar}}
  </div>
</template>
